extends ../layout/main

block variables
	- var title = 'User dashboard';
	- var h1 = 'User dashboard';
	- var body_scroll = 'false';

block content
	section.query-wrap
		.container-fluid
			.row
				.col-12
					.unwrap
						.unwrap__head
							span.unwrap__arr.ic-hover
								+svg('ic-select-arr-down','ic-select-arr-down')
							span.unwrap__title My Queries | 
								span.unwrap__count 38

						.unwrap__content
							.admin-table-wrap
								.admin-table-wrap__action
									.admin-table-wrap__col
										a.btn(href='#')
											+svg('ic-plus','ic-plus')
											|New Query

									.admin-table-wrap__col
										+formSearch('d-none d-md-block','Search Query Name')

								.admin-table.admin-table_yellow
									.admin-table__head
										.admin-table__item
											.admin-table__head
												span.admin-table__sort
													span.admin-table__sort-up
													span.admin-table__sort-down
												|Name

										.admin-table__item.d-none.d-md-table-cell
											.admin-table__head
												span.admin-table__sort
													span.admin-table__sort-up
													span.admin-table__sort-down
												|Modified

										.admin-table__item.d-none.d-md-table-cell
											.admin-table__head
												span.admin-table__sort
													span.admin-table__sort-up
													span.admin-table__sort-down
												|Created

										.admin-table__item.d-none.d-md-table-cell
											.admin-table__head
												|Shared

										.admin-table__item.d-none.d-md-table-cell
											.admin-table__head
												|IRB

										.admin-table__item.d-none.d-lg-table-cell
											.admin-table__head
												|Status

										.admin-table__item.d-none.d-lg-table-cell
											.admin-table__head Columns

										.admin-table__item.d-none.d-xl-table-cell
											.admin-table__head
												span.admin-table__sort
													span.admin-table__sort-up
													span.admin-table__sort-down
												|Cohort size

										.admin-table__item

									-
										var rows=[
											{
												name:{title:'CKD patients with all their medications patients with all their medications'},
												fields:[
													{title:'Nov 26, 2019', class:'d-none d-md-table-cell'},
													{title:'Nov 26, 2019', class:'d-none d-md-table-cell'},
													{class:'d-none d-md-table-cell'},
													{class:'d-none d-md-table-cell'},
													{icon:'ic-running', icon_color:'true', class:'d-none d-lg-table-cell'},
													{title:'~9,999', class:'d-none d-lg-table-cell'},
													{title:'—', class:'d-none d-xl-table-cell'},
												],
												menu:{
													popup:'active',
													icons:[
														{img:'ic-edit', text:'Edit'},
														{img:'ic-duplicate', text:'Duplicate'},
														{img:'ic-download', text:'Download files', disable:'true'},
														{img:'ic-share', text:'Share'},
														{img:'ic-quality', text:'Quality of Care', disable:'true'},
														{img:'ic-send', text:'Send'},
													]
												}
											},
											{
												name:{title:'CKD patients with all their medications patients with all their medications'},
												fields:[
													{title:'Nov 5, 2019', class:'d-none d-md-table-cell'},
													{title:'Nov 4, 2019', class:'d-none d-md-table-cell'},
													{icon:'ic-shared', class:'d-none d-md-table-cell'},
													{icon:'ic-key', class:'d-none d-md-table-cell'},
													{icon:'ic-duplicate', class:'d-none d-lg-table-cell'},
													{title:'10', class:'d-none d-lg-table-cell'},
													{title:'—', class:'d-none d-xl-table-cell'},
												],
												menu:{
													icons:[
														{img:'ic-edit', text:'Edit'},
														{img:'ic-duplicate', text:'Duplicate'},
														{img:'ic-download', text:'Download files', disable:'true'},
														{img:'ic-share', text:'Share'},
														{img:'ic-quality', text:'Quality of Care', disable:'true'},
														{img:'ic-send', text:'Send'},
													]
												}
											},
											{
												name:{title:'1234567890123456789012345678901289012'},
												fields:[
													{title:'Nov 4, 2019', class:'d-none d-md-table-cell'},
													{title:'Oct 11, 2019', class:'d-none d-md-table-cell'},
													{class:'d-none d-md-table-cell'},
													{class:'d-none d-md-table-cell'},
													{icon:'ic-duplicate', class:'d-none d-lg-table-cell'},
													{title:'89', class:'d-none d-lg-table-cell'},
													{title:'—', class:'d-none d-xl-table-cell'},
												],
												menu:{
													icons:[
														{img:'ic-edit', text:'Edit'},
														{img:'ic-duplicate', text:'Duplicate'},
														{img:'ic-download', text:'Download files', disable:'true'},
														{img:'ic-share', text:'Share'},
														{img:'ic-quality', text:'Quality of Care', disable:'true'},
														{img:'ic-send', text:'Send'},
													]
												}
											},
											{
												name:{title:'20180813_134819_20180726_21210'},
												fields:[
													{title:'Nov 2, 2019', class:'d-none d-md-table-cell'},
													{title:'Oct 10, 2019', class:'d-none d-md-table-cell'},
													{icon:'ic-shared', class:'d-none d-md-table-cell'},
													{icon:'ic-key', class:'d-none d-md-table-cell'},
													{icon:'ic-duplicate', class:'d-none d-lg-table-cell'},
													{title:'999', class:'d-none d-lg-table-cell'},
													{title:'—', class:'d-none d-xl-table-cell'},
												],
												menu:{
													icons:[
														{img:'ic-edit', text:'Edit'},
														{img:'ic-duplicate', text:'Duplicate'},
														{img:'ic-download', text:'Download files', disable:'true'},
														{img:'ic-share', text:'Share'},
														{img:'ic-quality', text:'Quality of Care', disable:'true'},
														{img:'ic-send', text:'Send'},
													]
												}
											},
											{
												name:{title:'DM-Tests - 2 date formats in t'},
												fields:[
													{title:'Oct 21, 2019', class:'d-none d-md-table-cell'},
													{title:'Oct 10, 2019', class:'d-none d-md-table-cell'},
													{class:'d-none d-md-table-cell'},
													{class:'d-none d-md-table-cell'},
													{class:'d-none d-lg-table-cell'},
													{title:'999', class:'d-none d-lg-table-cell'},
													{title:'—', class:'d-none d-xl-table-cell'},
												],
												menu:{
													icons:[
														{img:'ic-edit', text:'Edit'},
														{img:'ic-duplicate', text:'Duplicate'},
														{img:'ic-download', text:'Download files', disable:'true'},
														{img:'ic-share', text:'Share'},
														{img:'ic-quality', text:'Quality of Care', disable:'true'},
														{img:'ic-send', text:'Send'},
													]
												}
											},
										];

									+adminTableRow(rows)

								+pager('Showing Queries 1-15 of 38')

	section.query-wrap
		.container-fluid
			.row
				.col-12
					.unwrap
						.unwrap__head
							span.unwrap__arr.ic-hover
								+svg('ic-select-arr-down','ic-select-arr-down')
							span.unwrap__title Queries shared with me | 
								span.unwrap__count 3

						.unwrap__content
							.admin-table-wrap
								.admin-table-wrap__action
									.admin-table-wrap__col

									.admin-table-wrap__col
										+formSearch('d-none d-md-block','Search Query Name')

								.admin-table.admin-table_blue
									.admin-table__head
										.admin-table__item
											.admin-table__head
												span.admin-table__sort
													span.admin-table__sort-up
													span.admin-table__sort-down
												|Name

										.admin-table__item.d-none.d-md-table-cell
											.admin-table__head
												span.admin-table__sort.admin-table__sort_asc
													span.admin-table__sort-up
													span.admin-table__sort-down
												|Modified

										.admin-table__item.d-none.d-md-table-cell
											.admin-table__head
												span.admin-table__sort
													span.admin-table__sort-up
													span.admin-table__sort-down
												|Shared by

										.admin-table__item.d-none.d-md-table-cell
											.admin-table__head
												|My Permissions

										.admin-table__item

									-
										var rows=[
											{
												name:{title:'Diabetes: patients with Kidney desease (3-4)'},
												fields:[
													{title:'Nov 4, 2019', class:'d-none d-md-table-cell'},
													{icon:'ic-shared',title:'John Doe', class:'d-none d-md-table-cell'},
													{title:'View', class:'d-none d-md-table-cell'},
												],
												menu:{
													icons:[
														{img:'ic-edit', text:'Edit'},
														{img:'ic-duplicate', text:'Duplicate to <b>My Queries</b>'},
													],
													icons_bottom:[
														{img:'ic-remove', text:'Remove from list'},
													]
												}
											},
											{
												name:{title:'12345678901234567890123456789012345678901234567890546'},
												fields:[
													{title:'Oct 11, 2019', class:'d-none d-md-table-cell'},
													{icon:'ic-shared',title:'Israel Israeli', class:'d-none d-md-table-cell'},
													{title:'Edit', class:'d-none d-md-table-cell'},
												],
												menu:{
													popup:'active',
													icons:[
														{img:'ic-edit', text:'Edit'},
														{img:'ic-duplicate', text:'Duplicate to <span style="font-weight: 600;">My Queries</span>'},
													],
													icons_bottom:[
														{img:'ic-remove', text:'Remove from list'},
													]
												}
											},
											{
												name:{title:'Diabetes: Type 1 patients with ESRD'},
												fields:[
													{title:'Oct 10, 2019', class:'d-none d-md-table-cell'},
													{icon:'ic-shared',title:'Moshe Bateva', class:'d-none d-md-table-cell'},
													{title:'View', class:'d-none d-md-table-cell'},
												],
												menu:{
													icons:[
														{img:'ic-edit', text:'Edit'},
														{img:'ic-duplicate', text:'Duplicate to <b>My Queries</b>'},
													],
													icons_bottom:[
														{img:'ic-remove', text:'Remove from list'},
													]
												}
											},
										];

									+adminTableRow(rows)

	section.query-wrap
		.container-fluid
			.row
				.col-12
					.unwrap
						.unwrap__head
							span.unwrap__arr.ic-hover
								+svg('ic-select-arr-down','ic-select-arr-down')
							span.unwrap__title My Events | 
								span.unwrap__count 4

						.unwrap__content
							.admin-table-wrap
								.admin-table-wrap__action
									.admin-table-wrap__col
										.split-btn
											.split-btn__title New Event
											.split-btn__arr
												+svg('ic-select-arr-down','ic-select-arr-down')

											.split-btn__popup
												.split-btn__item Action number 00001
												.split-btn__item Action number 00002
												.split-btn__item Action number 00003
												.split-btn__item Action number 00004

									.admin-table-wrap__col
										+formSearch('d-none d-md-block','Search Event Name')


								.admin-table.admin-table_red
									.admin-table__head
										.admin-table__item
											.admin-table__head
												span.admin-table__sort
													span.admin-table__sort-up
													span.admin-table__sort-down
												|Name

										.admin-table__item.d-none.d-md-table-cell
											.admin-table__head
												span.admin-table__sort.admin-table__sort_asc
													span.admin-table__sort-up
													span.admin-table__sort-down
												|Modified

										.admin-table__item.d-none.d-md-table-cell
											.admin-table__head
												span.admin-table__sort
													span.admin-table__sort-up
													span.admin-table__sort-down
												|Generated

										.admin-table__item.d-none.d-md-table-cell
											.admin-table__head
												|Event Type

										.admin-table__item.d-none.d-md-table-cell
											.admin-table__head
												|Status

										.admin-table__item

									-
										var rows=[
											{
												name:{title:'eGFR and calculated CKD'},
												fields:[
													{title:'Nov 7, 2019', class:'d-none d-md-table-cell'},
													{title:'Nov 21, 2010', class:'d-none d-md-table-cell'},
													{icon:'ic-and', class:'d-none d-md-table-cell'},
													{icon:'ic-running', title:'Generating', class:'d-none d-md-table-cell'},
												],
												menu:{
													icons:[
														{img:'ic-edit', text:'Edit'},
														{img:'ic-duplicate', text:'Duplicate'},
														{img:'ic-send', text:'Send'},
													]
												}
											},
											{
												name:{title:'eGFR'},
												fields:[
													{title:'Oct 8, 2019', class:'d-none d-md-table-cell'},
													{title:'Nov 5, 2019', class:'d-none d-md-table-cell'},
													{icon:'ic-and', class:'d-none d-md-table-cell'},
													{icon:'ic-success', title:'Active', class:'d-none d-md-table-cell'},
												],
												menu:{
													icons:[
														{img:'ic-edit', text:'Edit'},
														{img:'ic-duplicate', text:'Duplicate'},
														{img:'ic-send', text:'Send'},
													]
												}
											},
											{
												name:{title:'CKD patient list provided by Shibe'},
												fields:[
													{title:'Sep 8, 2019', class:'d-none d-md-table-cell'},
													{title:'Oct 8, 2019', class:'d-none d-md-table-cell'},
													{icon:'ic-and', class:'d-none d-md-table-cell'},
													{icon:'ic-failure', title:'Failed', class:'d-none d-md-table-cell'},
												],
												menu:{
													popup:'active',
													icons:[
														{img:'ic-edit', text:'Edit'},
														{img:'ic-duplicate', text:'Duplicate'},
														{img:'ic-send', text:'Send'},
													]
												}
											},
											{
												name:{title:'CKD and Diabetes (Type 1) - example of very very long name'},
												fields:[
													{title:'Sep 10, 2019', class:'d-none d-md-table-cell'},
													{title:'Sep 11, 2019', class:'d-none d-md-table-cell'},
													{icon:'ic-and', class:'d-none d-md-table-cell'},
													{icon:'ic-running', title:'Generating', class:'d-none d-md-table-cell'},
												],
												menu:{
													icons:[
														{img:'ic-edit', text:'Edit'},
														{img:'ic-duplicate', text:'Duplicate'},
														{img:'ic-send', text:'Send'},
													]
												}
											},
										];

									+adminTableRow(rows)

	section.query-wrap
		.container-fluid
			.row
				.col-12
					.unwrap
						.unwrap__head
							span.unwrap__arr.ic-hover
								+svg('ic-select-arr-down','ic-select-arr-down')
							span.unwrap__title My Approval Keys | 
								span.unwrap__count 2

						.unwrap__content
							.admin-table-wrap
								.admin-table.admin-table_green
									.admin-table__head
										.admin-table__item
											.admin-table__head
												|Key name

										.admin-table__item.d-none.d-md-table-cell
											.admin-table__head
												|Research

										.admin-table__item.d-none.d-md-table-cell
											.admin-table__head
												|Status

										.admin-table__item.d-none.d-md-table-cell
											.admin-table__head
												span.admin-table__sort.admin-table__sort_asc
													span.admin-table__sort-up
													span.admin-table__sort-down
												|Expiration date

										.admin-table__item

									-
										var rows=[
											{
												name:{title:'28549-1-CKD patients'},
												fields:[
													{title:'CKD research approval 2', class:'d-none d-md-table-cell'},
													{icon:'ic-success', icon_color:'true', title:'Active', class:'d-none d-md-table-cell'},
													{title:'Mar 7, 2020 08:31', class:'d-none d-md-table-cell'},
												],
											},
											{
												name:{title:'215490-0215490-0215490-0215490-0215490-0215490-021549532'},
												fields:[
													{title:'CKD research approval', class:'d-none d-md-table-cell'},
													{icon:'ic-warning', icon_color:'true', title:'Expired', class:'d-none d-md-table-cell'},
													{title:'Oct 8, 2018 10:31', class:'d-none d-md-table-cell'},
												],
											},
										];

									+adminTableRow(rows)

	+modalWindowQuery('error','active')